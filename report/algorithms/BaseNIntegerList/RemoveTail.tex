\begin{lstlisting}[breaklines]
function RemoveTail(l: BaseNIntegerList): BaseNIntegerList
Begin
|    if (not IsEmpty(l))
|    then
|    |    if (size(l) = 1)
|    |    then
|    |    |    free(value(head(l)))
|    |    |    free(head(l))
|    |    |    head(l) <- undefined
|    |    |    tail(l) <- undefined
|    |    |    size(l) <- 0
|    |    else
|    |    |    tail(l) <- previous(tail(l))
|    |    |    free(value(next(tail(l))))
|    |    |    free(next(tail(l)))
|    |    |    next(tail(l)) <- undefined
|    |    |    size(l) <- size(l) - 1
|    |    endif
|    endif
|
|    RemoveTail <- l
Done
\end{lstlisting}
